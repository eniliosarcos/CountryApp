<ng-container *ngIf="{news:news$ | async, loading: loading$ | async} as state;">

  <ng-container *ngIf="(!state.loading && state.news)">
    <div class="row row-container">
      <div class="container h-100">
        <div class="col border border-dark box-news">
          <div class="row new-text mb-2 animate__animated animate__delay-0.8s animate__fadeIn" *ngFor="let new of state.news" (click)="openNewInTab(new.url)">
            <div class="container-fluid new-card">
              <div class="col-3">
                <img src="{{new.urlToImage}}" alt="" class="img-thumbnail">
              </div>
              <div class="col-9">
                <div class="row">
                  <div class="col-12">
                    <strong class="text-decoration-underline">Autor</strong>
                    <span>: {{new.author || 'Anonimo'}}</span>
                  </div>
                </div>
                <div class="row">
                  <div class="col-12">
                    <strong class="text-decoration-underline">Titulo</strong>
                    <span>: {{new.title}}</span>
                  </div>
                </div>
              </div>
              <div class="col-12 text-secondary description">
                <strong class="text-decoration-underline">Descripcion</strong>
                <span>: {{new.description}}</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </ng-container>

  <ng-container *ngIf="(!state.loading && !state.news)">
    <div class="row pb-2 h-100">
      <div class="container">
        <div class="col p-3 border border-dark align-items-center d-flex justify-content-center h-100">
          <p class="text-center text-secondary fs-5 animate__animated animate__delay-0.8s animate__fadeIn">
            Debes seleccionar un pais para ver las noticias.
          </p>
        </div>
      </div>
    </div>
  </ng-container>

  <ng-container *ngIf="(state.loading && (!state.news || state.news))">
    <div class="row pb-2 h-100">
      <div class="container">
        <div class="col p-3 border border-dark h-100">
          <div class="fs-5 justify-content-center align-items-center flex-column d-flex animate__animated animate__delay-0.8s animate__fadeIn h-100">
            <div class="spinner-border">
            </div>
            <span>Cargando...</span>
          </div>
        </div>
      </div>
    </div>
  </ng-container>

</ng-container>
